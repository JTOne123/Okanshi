<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Okanshi
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="In-process monitoring solution"/>
    <meta name="author" content="Telenor MVNO"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Okanshi/content/style.css" />
    <script type="text/javascript" src="/Okanshi/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/mvno/Okanshi">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Okanshi/index.html">Okanshi</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Okanshi" class="anchor" href="#Okanshi">Okanshi</a></h1>
<div class="row">
  <div class="span1"></div>
  <div class="span6">
    <div class="well well-small" id="nuget">
      The Okanshi library can be <a href="https://nuget.org/packages/Okanshi">installed from NuGet</a>:
      <pre>PM> Install-Package Okanshi</pre>
    </div>
  </div>
  <div class="span1"></div>
</div>
<h2><a name="Documentation" class="anchor" href="#Documentation">Documentation</a></h2>
<p>Okanshi is a library providing in-process monitoring of an application, it is create by Telenor MVNO to help transitioning to a microservice architecture.</p>
<p>The monitoring information can be accessed using the provided HTTP endpoint (JSON output) or by another custom implemented way.</p>
<p>It is designed to be as unobtrusive as possible, to achieve this the all statistics are calculated asynchronous, and won't impact the application performane that much. The memory footprint is also minimized as statistics are calculated on-the-fly, meaning the individual measurements aren't kept in memory longer than absolutely needed.</p>
<h2><a name="Example" class="anchor" href="#Example">Example</a></h2>
<p>C#:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="csharp"><span class="k">using</span> Okanshi.CSharp

Monitor.Start();
Monitor.Time(<span class="s">"action"</span>, () <span class="o">=</span><span class="o">&gt;</span> Thread.Sleep(<span class="n">2000</span>));
<span class="k">var</span> result <span class="o">=</span> Monitor.Time(<span class="s">"func"</span>, () <span class="o">=</span><span class="o">&gt;</span> <span class="s">"Result value"</span>);
Monitor.Success(<span class="s">"success"</span>);
Monitor.Failed(<span class="s">"failed"</span>);
</code></pre></td></tr></table>
<p>F#:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="i">Okansi</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">monitor</span> <span class="o">=</span> <span class="i">Monitor</span><span class="o">.</span><span class="i">start</span> <span class="i">Monitor</span><span class="o">.</span><span class="i">defaultOptions</span>
<span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">monitor</span> <span class="o">|&gt;</span> <span class="i">Monitor</span><span class="o">.</span><span class="i">time</span> <span class="s">&quot;function&quot;</span> (<span class="k">fun</span> () <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="i">Threading</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">Thread</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="i">Sleep</span>(<span class="n">2000</span>))
<span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="i">monitor</span> <span class="o">|&gt;</span> <span class="i">Monitor</span><span class="o">.</span><span class="i">success</span> <span class="s">&quot;success&quot;</span>
<span onmouseout="hideTip(event, 'fs1', 8)" onmouseover="showTip(event, 'fs1', 8)" class="i">monitor</span> <span class="o">|&gt;</span> <span class="i">Monitor</span><span class="o">.</span><span class="i">failed</span> <span class="s">&quot;failed&quot;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Samples-amp-documentation" class="anchor" href="#Samples-amp-documentation">Samples &amp; documentation</a></h2>
<p>The library comes with comprehensible documentation.</p>
<ul>
<li><p><a href="tutorial.html">Tutorial</a> contains a further explanation of this library.</p></li>
<li>
<p><a href="reference/index.html">API Reference</a> contains automatically generated documentation for all types, modules
and functions in the library.</p>
</li>
</ul>
<h2><a name="Contributing-and-copyright" class="anchor" href="#Contributing-and-copyright">Contributing and copyright</a></h2>
<p>The project is hosted on <a href="https://github.com/mvno/Okanshi">GitHub</a> where you can <a href="https://github.com/mvno/Okanshi/issues">report issues</a>, fork
the project and submit pull requests. If you're adding a new public API, please also
consider adding <a href="https://github.com/mvno/Okanshi/tree/master/docs/content">samples</a> that can be turned into a documentation. You might
also want to read the <a href="https://github.com/mvno/Okanshi/blob/master/README.md">library design notes</a> to understand how it works.</p>
<p>The library is available under Public Domain license, which allows modification and
redistribution for both commercial and non-commercial purposes. For more information see the
<a href="https://github.com/mvno/Okanshi/blob/master/LICENSE.txt">License file</a> in the GitHub repository.</p>

<div class="tip" id="fs1">val monitor : obj<br /><br />Full name: index.monitor</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">namespace System.Threading</div>
<div class="tip" id="fs4">Multiple items<br />type Thread =<br />&#160;&#160;inherit CriticalFinalizerObject<br />&#160;&#160;new : start:ThreadStart -&gt; Thread + 3 overloads<br />&#160;&#160;member Abort : unit -&gt; unit + 1 overload<br />&#160;&#160;member ApartmentState : ApartmentState with get, set<br />&#160;&#160;member CurrentCulture : CultureInfo with get, set<br />&#160;&#160;member CurrentUICulture : CultureInfo with get, set<br />&#160;&#160;member DisableComObjectEagerCleanup : unit -&gt; unit<br />&#160;&#160;member ExecutionContext : ExecutionContext<br />&#160;&#160;member GetApartmentState : unit -&gt; ApartmentState<br />&#160;&#160;member GetCompressedStack : unit -&gt; CompressedStack<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;...<br /><br />Full name: System.Threading.Thread<br /><br />--------------------<br />System.Threading.Thread(start: System.Threading.ThreadStart) : unit<br />System.Threading.Thread(start: System.Threading.ParameterizedThreadStart) : unit<br />System.Threading.Thread(start: System.Threading.ThreadStart, maxStackSize: int) : unit<br />System.Threading.Thread(start: System.Threading.ParameterizedThreadStart, maxStackSize: int) : unit</div>
<div class="tip" id="fs5">System.Threading.Thread.Sleep(timeout: System.TimeSpan) : unit<br />System.Threading.Thread.Sleep(millisecondsTimeout: int) : unit</div>

        </div>
        <div class="span3">
          <img src="/Okanshi/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Okanshi</li>
            <li><a href="/Okanshi/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Okanshi">Get Library via NuGet</a></li>
            <li><a href="http://github.com/mvno/Okanshi">Source Code on GitHub</a></li>
            <li><a href="/Okanshi/license.html">License</a></li>
            <li><a href="/Okanshi/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/Okanshi/tutorial.html">Sample tutorial</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Okanshi/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/mvno/Okanshi"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
